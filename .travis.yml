language: java
jdk:
- oraclejdk8
- oraclejdk7
os:
- linux
branches:
  only:
  - master
  - dev
sudo: required
before_install:
- mvn org.codehaus.mojo:versions-maven-plugin:display-dependency-updates
- mvn org.codehaus.mojo:versions-maven-plugin:display-plugin-updates
install:
- true
script:
- mvn install -Dmaven.javadoc.skip=true -B -V
after_success:
- mvn com.gavinmogan:codacy-maven-plugin:coverage -DcoverageReportFile=target/site/jacoco/jacoco.xml -DprojectToken=$CODACY_PROJECT_TOKEN -DapiToken=$CODACY_API_TOKEN -DcodacyApiBaseUrl=https://api.codacy.com
env:
  global:
  - secure: "pGOIwU6iPPqITnQ1WRfnPWBDFEtsploCRUsvkqppb/kOJrIB/jj89k35nPsbl1oPGaMrH+kQ5ezTAcQXY9OivuyO0OuliSnrV8vr6rp7mncm1uDO9gHNQM5UcV0JMbHgpL/ZKx8e/mmSjeWhm4lg1e+EH85rHu7eAVrUpgvAbb0="
  - secure: "Mzovf0Rm4TCwj4LWNt7S81GxoC0q1HnyOp5hMhkMrptQ8XOHsEv/BLXG8I0qQSWIYdQNTlqHbNajBxL1JpDgVN5plYWUv1A5vlyDoWzy5fPvsg0UEa5kN8mxEJtlY7qLMo3d3BXwSajThrHpS8BH05x4WInwhX3P2U3KBmhHsow="